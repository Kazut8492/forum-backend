<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Forum</title>
  </head>

  <body>
      <header>
          <h1>
              <a href="/">Forum</a>
          </h1>
          <p><a href="/signup">Sign up</a></p>
          <p><a href="/login">Login</a></p>
          <p><a href="/logout">Logout</a></p>
      </header>
      <main>
        <h1>Filter posts</h1>
        <form action="/filter" method="POST">
          <select name="filter">
            <option value="">Show all</option>
            <option value="science">Science</option>
            <option value="education">Education</option>
            <option value="sports">Sports</option>
            <option value="lifehacks">Lifehacks</option>
            <option value="mine">My posts</option>
          </select>
          <button>Apply filter</button>
        </form>
        <h1>======================</h1>
          <h1>Create a new post</h1>
          <form action="/new-post" method="POST">
              <input type="text" name="postTitle" required>
              <input type="text" name="postContent" required>
              <p>At least one category has to be selected</p>
              <p>
                <input type="checkbox" name="category" value="science">science
                <input type="checkbox" name="category" value="education">education
                <input type="checkbox" name="category" value="sports">sports
                <input type="checkbox" name="category" value="lifehacks">lifehacks
              </p>
              <button>Submit post</button>
          </form>
        <h1>======================</h1>
        {{range .}}
          <h1>{{.Title}}</h1>
          <h2>{{.Content}}</h2>
          <h3>Username: {{.CreatorUsrName}}</h3>
          {{range .CategoryArr}}
            <p>Category: {{.}}</p>
          {{end}}
          <form action="/post" method="GET">
            <input type="text" name="id" value={{.ID}} style="display: none;">
            <button>Check detail of this post</button>
          </form>
          <p>Like: {{len .Likes}}</p>
          <form action="/like-post" method="POST">
            <input type="text" name="from" value="index" style="display: none;">
            <input type="text" name="id" value={{.ID}} style="display: none;">
            <button>Like post</button>
          </form>
          <p>Dislike: {{len .Dislikes}}</p>
          <form action="/dislike-post" method="POST">
            <input type="text" name="from" value="index" style="display: none;">
            <input type="text" name="id" value={{.ID}} style="display: none;">
            <button>Dislike post</button>
          </form>
          <h1>======================</h1>
        {{end}}
      </main>
      <footer>
      </footer>
  </body>
</html>